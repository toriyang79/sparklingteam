<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìµœì¢… íˆ¬ì ê²°ê³¼</title>
</head>
<body>
    <h1>ìµœì¢… íˆ¬ì ê²°ê³¼</h1>
    <ul id="investmentList"></ul>

    <!-- âœ… Firebase SDK ì¶”ê°€ (Firestore ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë ¤ë©´ í•„ìš”í•¨) -->
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js"></script>

    <script>
    // ğŸ”¥ Firebase ì„¤ì • (Firebase ì½˜ì†”ì—ì„œ ë³µì‚¬í•œ ì •ë³´ ì…ë ¥)
    const firebaseConfig = {
        apiKey: "AIzaSyDlr9ZdKykypIPt4l5uK1h4PPgw_6yrds4",
        authDomain: "sparklingteam-7cd01.firebaseapp.com",
        projectId: "sparklingteam-7cd01",
        storageBucket: "sparklingteam-7cd01.appspot.com",
        messagingSenderId: "710268007308",
        appId: "1:710268007308:web:01cab459e67797856d9ca9"
    };

    // âœ… Firebase ì´ˆê¸°í™”
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    // âœ… Firestoreì—ì„œ íˆ¬ì ë‚´ì—­ ë¶ˆëŸ¬ì˜¤ê¸° (ìµœì‹ ìˆœ ì •ë ¬)
    db.collection("investments").orderBy("timestamp", "desc").onSnapshot(snapshot => {
        const investmentList = document.getElementById("investmentList");
        investmentList.innerHTML = "";
        snapshot.forEach(doc => {
            let data = doc.data();
            let listItem = document.createElement("li");
            let timestamp = data.timestamp ? new Date(data.timestamp.toDate()).toLocaleString() : "ì‹œê°„ ì •ë³´ ì—†ìŒ";
            listItem.innerText = `${data.name}ë‹˜ì´ ${data.startup}ì— ${data.amount}ì›ì„ íˆ¬ìí–ˆìŠµë‹ˆë‹¤. (ğŸ“… ${timestamp})`;
            investmentList.appendChild(listItem);
        });
    });
    </script>
</body>
</html>
